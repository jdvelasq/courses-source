

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Visualización en Python con Altair &mdash; documentación de --- Cursos --- - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Visualización interactiva con Bokeh" href="../bokeh/01-visualizacion-interactiva-con-bokeh.html" />
    <link rel="prev" title="Visualización de datos usando Matplotlib" href="../matplotlib/01-visualizacion-de-datos-usando-matplotlib.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> --- Cursos ---
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configuración</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Instalación de Vagrant y Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../analitica-de-grandes-datos/index.html">Analítica de grandes datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-financiera/index.html">Analítica Financiera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-predictiva/index.html">Analítica Predictiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ciencia-de-los-datos/index.html">Ciencia de los Datos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../fundamentos-de-analitica/index.html">Fundamentos de Analítica</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../fundamentos-de-analitica/content.html">Sesiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentos-de-analitica/grades.html">Laboratorios de Programación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentos-de-analitica/course-info.html">Información del curso</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../productos-de-datos/index.html">Productos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../redes-neuronales-con-tensorflow/index.html">Redes Neuronales Artificiales</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">--- Cursos ---</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../ciencia-de-los-datos/index.html">Ciencia de los Datos</a> &raquo;</li>
        
          <li><a href="../../ciencia-de-los-datos/content.html">Sesiones</a> &raquo;</li>
        
      <li>Visualización en Python con Altair</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebooks/altair/01-visualizacion-con-altair.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Visualización-en-Python-con-Altair">
<h1>Visualización en Python con Altair<a class="headerlink" href="#Visualización-en-Python-con-Altair" title="Enlazar permanentemente con este título">¶</a></h1>
<ul class="simple">
<li><p><em>30 min</em> | Última modificación: Junio 22, 2019</p></li>
</ul>
<p><a class="reference external" href="https://altair-viz.github.io/index.html">Altair</a> es una librería de visualización de datos para Python, basada en <a class="reference external" href="http://vega.github.io/vega">Vega</a> y <a class="reference external" href="http://vega.github.io/vega-lite">Vega-Lite</a>, que usa un lenguaje declarativo que busca minimizar la cantidad de código requerido para la construcción de gráficos. En este tutorial se presentan los principios básicos para la construcción de gráficos para análisis exploratorio de datos, a partir de un caso de aplicación.</p>
<div class="section" id="Definición-del-problema">
<h2>Definición del problema<a class="headerlink" href="#Definición-del-problema" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Se desea construir un gráfico que permita comparar la población por rangos de edades para los distintos continentes, a partir de la información suministrada en el archivo <code class="docutils literal notranslate"><span class="pre">indicadores</span> <span class="pre">mundiales.csv</span></code>. El gráfico construído debe ser simiar al siguiente, el cual fue preparado usando <a class="reference external" href="https://public.tableau.com/en-us/s/">Tableau</a>.</p>
<p><img alt="assets/suma-pob-region-edades-4.png" src="../../_images/suma-pob-region-edades-4.png" /></p>
</div>
<div class="section" id="Solución">
<h2>Solución<a class="headerlink" href="#Solución" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Preparación</span>
<span class="c1">##</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="n">alt</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;notebook&#39;</span><span class="p">);</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1">##</span>
<span class="c1">## No funciona en jupyterlab:</span>
<span class="c1">##</span>
<span class="c1">##     alt.renderers.enable(&#39;jupyterlab&#39;)</span>
<span class="c1">##</span>
</pre></div>
</div>
</div>
<div class="section" id="Carga-de-datos">
<h3>Carga de datos<a class="headerlink" href="#Carga-de-datos" title="Enlazar permanentemente con este título">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/jdvelasq/playground/master/datasets/indicadores-mundiales.csv&quot;</span><span class="p">,</span>
                 <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="p">,</span>           <span class="c1"># separador de campos</span>
                 <span class="n">thousands</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>    <span class="c1"># separador de miles para números</span>
                 <span class="n">decimal</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span>       <span class="c1"># separador de los decimales para números</span>
                 <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>  <span class="c1"># idioma</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Preparación-de-los-datos">
<h3>Preparación de los datos<a class="headerlink" href="#Preparación-de-los-datos" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Para obtener los datos requeridos para la construcción del grafico solicitado, es necesario construir una agregación, sumando la población por región.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[[</span><span class="s1">&#39;Poblacion 0-14&#39;</span><span class="p">,</span> <span class="s1">&#39;Poblacion 15-64&#39;</span><span class="p">,</span> <span class="s1">&#39;Poblacion 65+&#39;</span><span class="p">]]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Poblacion 0-14</th>
      <th>Poblacion 15-64</th>
      <th>Poblacion 65+</th>
    </tr>
    <tr>
      <th>Region</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Asia</th>
      <td>5318.6</td>
      <td>10668.7</td>
      <td>1013.0</td>
    </tr>
    <tr>
      <th>Europa</th>
      <td>3780.2</td>
      <td>13830.6</td>
      <td>2890.5</td>
    </tr>
    <tr>
      <th>Las Americas</th>
      <td>5375.5</td>
      <td>10901.8</td>
      <td>1223.1</td>
    </tr>
    <tr>
      <th>Oceania</th>
      <td>1784.8</td>
      <td>3133.1</td>
      <td>282.5</td>
    </tr>
    <tr>
      <th>Oriente Medio</th>
      <td>1754.7</td>
      <td>3251.1</td>
      <td>194.2</td>
    </tr>
    <tr>
      <th>africa</th>
      <td>11136.2</td>
      <td>14452.7</td>
      <td>911.7</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Altair opera directamente sobre los campos del DataFrame. Por ello, para construir el gráfico solicitado, se requiere cambiar la forma del DataFrame mediante una operación de stack(), así:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">stack</span><span class="p">())</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>0</th>
    </tr>
    <tr>
      <th>Region</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">Asia</th>
      <th>Poblacion 0-14</th>
      <td>5318.6</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>10668.7</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>1013.0</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Europa</th>
      <th>Poblacion 0-14</th>
      <td>3780.2</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>13830.6</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>2890.5</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Las Americas</th>
      <th>Poblacion 0-14</th>
      <td>5375.5</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>10901.8</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>1223.1</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Oceania</th>
      <th>Poblacion 0-14</th>
      <td>1784.8</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>3133.1</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>282.5</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Oriente Medio</th>
      <th>Poblacion 0-14</th>
      <td>1754.7</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>3251.1</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>194.2</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">africa</th>
      <th>Poblacion 0-14</th>
      <td>11136.2</td>
    </tr>
    <tr>
      <th>Poblacion 15-64</th>
      <td>14452.7</td>
    </tr>
    <tr>
      <th>Poblacion 65+</th>
      <td>911.7</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>En el DataFrame generado, la columna numérica no tiene nombre y la región y la edad de la población son parte del índice de la tabla. En el siguiente fragmento de código, se agregan las columnas <code class="docutils literal notranslate"><span class="pre">Region</span></code> y <code class="docutils literal notranslate"><span class="pre">Edad</span></code> a partir de la información de índice de las filas, y se cambia el nombre de la última columna a <code class="docutils literal notranslate"><span class="pre">Poblacion</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## El índice de cada fila es una tupla con el nombre</span>
<span class="c1">## de la región y el rango de edad</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(&#39;Asia&#39;, &#39;Poblacion 0-14&#39;)
(&#39;Asia&#39;, &#39;Poblacion 15-64&#39;)
(&#39;Asia&#39;, &#39;Poblacion 65+&#39;)
(&#39;Europa&#39;, &#39;Poblacion 0-14&#39;)
(&#39;Europa&#39;, &#39;Poblacion 15-64&#39;)
(&#39;Europa&#39;, &#39;Poblacion 65+&#39;)
(&#39;Las Americas&#39;, &#39;Poblacion 0-14&#39;)
(&#39;Las Americas&#39;, &#39;Poblacion 15-64&#39;)
(&#39;Las Americas&#39;, &#39;Poblacion 65+&#39;)
(&#39;Oceania&#39;, &#39;Poblacion 0-14&#39;)
(&#39;Oceania&#39;, &#39;Poblacion 15-64&#39;)
(&#39;Oceania&#39;, &#39;Poblacion 65+&#39;)
(&#39;Oriente Medio&#39;, &#39;Poblacion 0-14&#39;)
(&#39;Oriente Medio&#39;, &#39;Poblacion 15-64&#39;)
(&#39;Oriente Medio&#39;, &#39;Poblacion 65+&#39;)
(&#39;africa&#39;, &#39;Poblacion 0-14&#39;)
(&#39;africa&#39;, &#39;Poblacion 15-64&#39;)
(&#39;africa&#39;, &#39;Poblacion 65+&#39;)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## Se cambia el nombre de la última columna</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Poblacion&#39;</span><span class="p">]</span>

<span class="c1">## Se agrega la columna Region y se</span>
<span class="c1">## extrae la región como la primera componente</span>
<span class="c1">## del índice</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Region&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

<span class="c1">## Se agrega la columna Edad y se extrae como</span>
<span class="c1">## la segunda componente del índice</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

<span class="c1">## Se cambia el índice por un consecutivo</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>

<span class="c1">## Se imprime el DataFrame final</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Poblacion</th>
      <th>Region</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5318.6</td>
      <td>Asia</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10668.7</td>
      <td>Asia</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1013.0</td>
      <td>Asia</td>
      <td>Poblacion 65+</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3780.2</td>
      <td>Europa</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>13830.6</td>
      <td>Europa</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2890.5</td>
      <td>Europa</td>
      <td>Poblacion 65+</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5375.5</td>
      <td>Las Americas</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>7</th>
      <td>10901.8</td>
      <td>Las Americas</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1223.1</td>
      <td>Las Americas</td>
      <td>Poblacion 65+</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1784.8</td>
      <td>Oceania</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>10</th>
      <td>3133.1</td>
      <td>Oceania</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>11</th>
      <td>282.5</td>
      <td>Oceania</td>
      <td>Poblacion 65+</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1754.7</td>
      <td>Oriente Medio</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>13</th>
      <td>3251.1</td>
      <td>Oriente Medio</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>14</th>
      <td>194.2</td>
      <td>Oriente Medio</td>
      <td>Poblacion 65+</td>
    </tr>
    <tr>
      <th>15</th>
      <td>11136.2</td>
      <td>africa</td>
      <td>Poblacion 0-14</td>
    </tr>
    <tr>
      <th>16</th>
      <td>14452.7</td>
      <td>africa</td>
      <td>Poblacion 15-64</td>
    </tr>
    <tr>
      <th>17</th>
      <td>911.7</td>
      <td>africa</td>
      <td>Poblacion 65+</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Construcción-del-gráfico">
<h3>Construcción del gráfico<a class="headerlink" href="#Construcción-del-gráfico" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Se realiza la primera interación para construir el gráfico. La estructura de un gráfico en Altair siempre es la misma. La componente <code class="docutils literal notranslate"><span class="pre">mark_bar()</span></code> indica el tipo de gráfico. Los campos se indican mediante su nombre, seguido de <code class="docutils literal notranslate"><span class="pre">:</span></code>, seguido del tipo de dato (N: Nominal, Q: Quantity).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## En este primer gráfico, los valores están apilados.</span>
<span class="c1">##</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>          <span class="c1"># Columna en el eje X</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Poblacion:Q&#39;</span>        <span class="c1"># Columna en el eje Y</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
var spec = {"config": {"view": {"width": 400, "height": 300}, "mark": {"tooltip": null}}, "data": {"name": "data-79353f9e73966b76ee648c81c5e15d05"}, "mark": "bar", "encoding": {"x": {"type": "nominal", "field": "Region"}, "y": {"type": "quantitative", "field": "Poblacion"}}, "$schema": "https://vega.github.io/schema/vega-lite/v3.2.1.json", "datasets": {"data-79353f9e73966b76ee648c81c5e15d05": [{"Poblacion": 5318.5999999999985, "Region": "Asia", "Age": "Poblacion 0-14"}, {"Poblacion": 10668.699999999999, "Region": "Asia", "Age": "Poblacion 15-64"}, {"Poblacion": 1013.0000000000001, "Region": "Asia", "Age": "Poblacion 65+"}, {"Poblacion": 3780.200000000001, "Region": "Europa", "Age": "Poblacion 0-14"}, {"Poblacion": 13830.599999999999, "Region": "Europa", "Age": "Poblacion 15-64"}, {"Poblacion": 2890.500000000002, "Region": "Europa", "Age": "Poblacion 65+"}, {"Poblacion": 5375.500000000002, "Region": "Las Americas", "Age": "Poblacion 0-14"}, {"Poblacion": 10901.799999999996, "Region": "Las Americas", "Age": "Poblacion 15-64"}, {"Poblacion": 1223.1, "Region": "Las Americas", "Age": "Poblacion 65+"}, {"Poblacion": 1784.8, "Region": "Oceania", "Age": "Poblacion 0-14"}, {"Poblacion": 3133.1000000000004, "Region": "Oceania", "Age": "Poblacion 15-64"}, {"Poblacion": 282.50000000000006, "Region": "Oceania", "Age": "Poblacion 65+"}, {"Poblacion": 1754.7000000000003, "Region": "Oriente Medio", "Age": "Poblacion 0-14"}, {"Poblacion": 3251.1000000000004, "Region": "Oriente Medio", "Age": "Poblacion 15-64"}, {"Poblacion": 194.20000000000005, "Region": "Oriente Medio", "Age": "Poblacion 65+"}, {"Poblacion": 11136.2, "Region": "africa", "Age": "Poblacion 0-14"}, {"Poblacion": 14452.699999999992, "Region": "africa", "Age": "Poblacion 15-64"}, {"Poblacion": 911.7000000000003, "Region": "africa", "Age": "Poblacion 65+"}]}};
var opt = {};
var type = "vega-lite";
var id = "666224e6-6c49-4789-a521-519776de2178";

var output_area = this;

require(["nbextensions/jupyter-vega/index"], function(vega) {
  var target = document.createElement("div");
  target.id = id;
  target.className = "vega-embed";

  var style = document.createElement("style");
  style.textContent = [
    ".vega-embed .error p {",
    "  color: firebrick;",
    "  font-size: 14px;",
    "}",
  ].join("\\n");

  // element is a jQuery wrapped DOM element inside the output area
  // see http://ipython.readthedocs.io/en/stable/api/generated/\
  // IPython.display.html#IPython.display.Javascript.__init__
  element[0].appendChild(target);
  element[0].appendChild(style);

  vega.render("#" + id, spec, type, opt, output_area);
}, function (err) {
  if (err.requireType !== "scripterror") {
    throw(err);
  }
});

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_altair_01-visualizacion-con-altair_18_2.png" src="../../_images/notebooks_altair_01-visualizacion-con-altair_18_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Se cambian los colores para cada rango de edad</span>
<span class="c1">##</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>          <span class="c1"># Columna en el eje X</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Poblacion:Q&#39;</span><span class="p">,</span>       <span class="c1"># Columna en el eje Y</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Age:N&#39;</span>          <span class="c1"># Los colores cambian con el</span>
<span class="p">)</span>                            <span class="c1"># rango de edad</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
var spec = {"config": {"view": {"width": 400, "height": 300}, "mark": {"tooltip": null}}, "data": {"name": "data-79353f9e73966b76ee648c81c5e15d05"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Age"}, "x": {"type": "nominal", "field": "Region"}, "y": {"type": "quantitative", "field": "Poblacion"}}, "$schema": "https://vega.github.io/schema/vega-lite/v3.2.1.json", "datasets": {"data-79353f9e73966b76ee648c81c5e15d05": [{"Poblacion": 5318.5999999999985, "Region": "Asia", "Age": "Poblacion 0-14"}, {"Poblacion": 10668.699999999999, "Region": "Asia", "Age": "Poblacion 15-64"}, {"Poblacion": 1013.0000000000001, "Region": "Asia", "Age": "Poblacion 65+"}, {"Poblacion": 3780.200000000001, "Region": "Europa", "Age": "Poblacion 0-14"}, {"Poblacion": 13830.599999999999, "Region": "Europa", "Age": "Poblacion 15-64"}, {"Poblacion": 2890.500000000002, "Region": "Europa", "Age": "Poblacion 65+"}, {"Poblacion": 5375.500000000002, "Region": "Las Americas", "Age": "Poblacion 0-14"}, {"Poblacion": 10901.799999999996, "Region": "Las Americas", "Age": "Poblacion 15-64"}, {"Poblacion": 1223.1, "Region": "Las Americas", "Age": "Poblacion 65+"}, {"Poblacion": 1784.8, "Region": "Oceania", "Age": "Poblacion 0-14"}, {"Poblacion": 3133.1000000000004, "Region": "Oceania", "Age": "Poblacion 15-64"}, {"Poblacion": 282.50000000000006, "Region": "Oceania", "Age": "Poblacion 65+"}, {"Poblacion": 1754.7000000000003, "Region": "Oriente Medio", "Age": "Poblacion 0-14"}, {"Poblacion": 3251.1000000000004, "Region": "Oriente Medio", "Age": "Poblacion 15-64"}, {"Poblacion": 194.20000000000005, "Region": "Oriente Medio", "Age": "Poblacion 65+"}, {"Poblacion": 11136.2, "Region": "africa", "Age": "Poblacion 0-14"}, {"Poblacion": 14452.699999999992, "Region": "africa", "Age": "Poblacion 15-64"}, {"Poblacion": 911.7000000000003, "Region": "africa", "Age": "Poblacion 65+"}]}};
var opt = {};
var type = "vega-lite";
var id = "04b43a9a-065d-4d6f-8ae1-7516b8fa7a98";

var output_area = this;

require(["nbextensions/jupyter-vega/index"], function(vega) {
  var target = document.createElement("div");
  target.id = id;
  target.className = "vega-embed";

  var style = document.createElement("style");
  style.textContent = [
    ".vega-embed .error p {",
    "  color: firebrick;",
    "  font-size: 14px;",
    "}",
  ].join("\\n");

  // element is a jQuery wrapped DOM element inside the output area
  // see http://ipython.readthedocs.io/en/stable/api/generated/\
  // IPython.display.html#IPython.display.Javascript.__init__
  element[0].appendChild(target);
  element[0].appendChild(style);

  vega.render("#" + id, spec, type, opt, output_area);
}, function (err) {
  if (err.requireType !== "scripterror") {
    throw(err);
  }
});

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_altair_01-visualizacion-con-altair_19_2.png" src="../../_images/notebooks_altair_01-visualizacion-con-altair_19_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Para generar un gráfico por cada rango de edad</span>
<span class="c1">## se adiciona la propiedad `row` indicando que depende</span>
<span class="c1">## de la columna `Age`.</span>
<span class="c1">##</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Poblacion:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Age:N&#39;</span><span class="p">,</span>
    <span class="n">row</span><span class="o">=</span><span class="s1">&#39;Age:N&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
var spec = {"config": {"view": {"width": 400, "height": 300}, "mark": {"tooltip": null}}, "data": {"name": "data-79353f9e73966b76ee648c81c5e15d05"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Age"}, "row": {"type": "nominal", "field": "Age"}, "x": {"type": "nominal", "field": "Region"}, "y": {"type": "quantitative", "field": "Poblacion"}}, "$schema": "https://vega.github.io/schema/vega-lite/v3.2.1.json", "datasets": {"data-79353f9e73966b76ee648c81c5e15d05": [{"Poblacion": 5318.5999999999985, "Region": "Asia", "Age": "Poblacion 0-14"}, {"Poblacion": 10668.699999999999, "Region": "Asia", "Age": "Poblacion 15-64"}, {"Poblacion": 1013.0000000000001, "Region": "Asia", "Age": "Poblacion 65+"}, {"Poblacion": 3780.200000000001, "Region": "Europa", "Age": "Poblacion 0-14"}, {"Poblacion": 13830.599999999999, "Region": "Europa", "Age": "Poblacion 15-64"}, {"Poblacion": 2890.500000000002, "Region": "Europa", "Age": "Poblacion 65+"}, {"Poblacion": 5375.500000000002, "Region": "Las Americas", "Age": "Poblacion 0-14"}, {"Poblacion": 10901.799999999996, "Region": "Las Americas", "Age": "Poblacion 15-64"}, {"Poblacion": 1223.1, "Region": "Las Americas", "Age": "Poblacion 65+"}, {"Poblacion": 1784.8, "Region": "Oceania", "Age": "Poblacion 0-14"}, {"Poblacion": 3133.1000000000004, "Region": "Oceania", "Age": "Poblacion 15-64"}, {"Poblacion": 282.50000000000006, "Region": "Oceania", "Age": "Poblacion 65+"}, {"Poblacion": 1754.7000000000003, "Region": "Oriente Medio", "Age": "Poblacion 0-14"}, {"Poblacion": 3251.1000000000004, "Region": "Oriente Medio", "Age": "Poblacion 15-64"}, {"Poblacion": 194.20000000000005, "Region": "Oriente Medio", "Age": "Poblacion 65+"}, {"Poblacion": 11136.2, "Region": "africa", "Age": "Poblacion 0-14"}, {"Poblacion": 14452.699999999992, "Region": "africa", "Age": "Poblacion 15-64"}, {"Poblacion": 911.7000000000003, "Region": "africa", "Age": "Poblacion 65+"}]}};
var opt = {};
var type = "vega-lite";
var id = "b2733e18-866e-4cc9-b695-636edb6a5f83";

var output_area = this;

require(["nbextensions/jupyter-vega/index"], function(vega) {
  var target = document.createElement("div");
  target.id = id;
  target.className = "vega-embed";

  var style = document.createElement("style");
  style.textContent = [
    ".vega-embed .error p {",
    "  color: firebrick;",
    "  font-size: 14px;",
    "}",
  ].join("\\n");

  // element is a jQuery wrapped DOM element inside the output area
  // see http://ipython.readthedocs.io/en/stable/api/generated/\
  // IPython.display.html#IPython.display.Javascript.__init__
  element[0].appendChild(target);
  element[0].appendChild(style);

  vega.render("#" + id, spec, type, opt, output_area);
}, function (err) {
  if (err.requireType !== "scripterror") {
    throw(err);
  }
});

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_altair_01-visualizacion-con-altair_20_2.png" src="../../_images/notebooks_altair_01-visualizacion-con-altair_20_2.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Se procede a cambiar el tamaño del gráfico</span>
<span class="c1">## usando `properties.</span>
<span class="c1">##</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Poblacion:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Age:N&#39;</span><span class="p">,</span>
    <span class="n">row</span><span class="o">=</span><span class="s1">&#39;Age:N&#39;</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">350</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
var spec = {"config": {"view": {"width": 400, "height": 300}, "mark": {"tooltip": null}}, "data": {"name": "data-79353f9e73966b76ee648c81c5e15d05"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Age"}, "row": {"type": "nominal", "field": "Age"}, "x": {"type": "nominal", "field": "Region"}, "y": {"type": "quantitative", "field": "Poblacion"}}, "height": 200, "width": 350, "$schema": "https://vega.github.io/schema/vega-lite/v3.2.1.json", "datasets": {"data-79353f9e73966b76ee648c81c5e15d05": [{"Poblacion": 5318.5999999999985, "Region": "Asia", "Age": "Poblacion 0-14"}, {"Poblacion": 10668.699999999999, "Region": "Asia", "Age": "Poblacion 15-64"}, {"Poblacion": 1013.0000000000001, "Region": "Asia", "Age": "Poblacion 65+"}, {"Poblacion": 3780.200000000001, "Region": "Europa", "Age": "Poblacion 0-14"}, {"Poblacion": 13830.599999999999, "Region": "Europa", "Age": "Poblacion 15-64"}, {"Poblacion": 2890.500000000002, "Region": "Europa", "Age": "Poblacion 65+"}, {"Poblacion": 5375.500000000002, "Region": "Las Americas", "Age": "Poblacion 0-14"}, {"Poblacion": 10901.799999999996, "Region": "Las Americas", "Age": "Poblacion 15-64"}, {"Poblacion": 1223.1, "Region": "Las Americas", "Age": "Poblacion 65+"}, {"Poblacion": 1784.8, "Region": "Oceania", "Age": "Poblacion 0-14"}, {"Poblacion": 3133.1000000000004, "Region": "Oceania", "Age": "Poblacion 15-64"}, {"Poblacion": 282.50000000000006, "Region": "Oceania", "Age": "Poblacion 65+"}, {"Poblacion": 1754.7000000000003, "Region": "Oriente Medio", "Age": "Poblacion 0-14"}, {"Poblacion": 3251.1000000000004, "Region": "Oriente Medio", "Age": "Poblacion 15-64"}, {"Poblacion": 194.20000000000005, "Region": "Oriente Medio", "Age": "Poblacion 65+"}, {"Poblacion": 11136.2, "Region": "africa", "Age": "Poblacion 0-14"}, {"Poblacion": 14452.699999999992, "Region": "africa", "Age": "Poblacion 15-64"}, {"Poblacion": 911.7000000000003, "Region": "africa", "Age": "Poblacion 65+"}]}};
var opt = {};
var type = "vega-lite";
var id = "eae975cc-2db2-4ced-af7e-a11d2080e482";

var output_area = this;

require(["nbextensions/jupyter-vega/index"], function(vega) {
  var target = document.createElement("div");
  target.id = id;
  target.className = "vega-embed";

  var style = document.createElement("style");
  style.textContent = [
    ".vega-embed .error p {",
    "  color: firebrick;",
    "  font-size: 14px;",
    "}",
  ].join("\\n");

  // element is a jQuery wrapped DOM element inside the output area
  // see http://ipython.readthedocs.io/en/stable/api/generated/\
  // IPython.display.html#IPython.display.Javascript.__init__
  element[0].appendChild(target);
  element[0].appendChild(style);

  vega.render("#" + id, spec, type, opt, output_area);
}, function (err) {
  if (err.requireType !== "scripterror") {
    throw(err);
  }
});

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_altair_01-visualizacion-con-altair_21_2.png" src="../../_images/notebooks_altair_01-visualizacion-con-altair_21_2.png" />
</div>
</div>
</div>
<div class="section" id="Gráfico-Alternativo">
<h3>Gráfico Alternativo<a class="headerlink" href="#Gráfico-Alternativo" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Como alternativa, se propone generar un gráfico horizontal, colocando la region en el eje Y y el tamaño de la población en el eje X. Para esto, se invierten los valores de <code class="docutils literal notranslate"><span class="pre">x</span></code> y <code class="docutils literal notranslate"><span class="pre">y</span></code> y se modifica el tamaño de la gráfica.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Poblacion:Q&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Region:N&#39;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;Age:N&#39;</span><span class="p">,</span>
    <span class="n">column</span><span class="o">=</span><span class="s1">&#39;Age:N&#39;</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
var spec = {"config": {"view": {"width": 400, "height": 300}, "mark": {"tooltip": null}}, "data": {"name": "data-79353f9e73966b76ee648c81c5e15d05"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Age"}, "column": {"type": "nominal", "field": "Age"}, "x": {"type": "quantitative", "field": "Poblacion"}, "y": {"type": "nominal", "field": "Region"}}, "height": 200, "width": 200, "$schema": "https://vega.github.io/schema/vega-lite/v3.2.1.json", "datasets": {"data-79353f9e73966b76ee648c81c5e15d05": [{"Poblacion": 5318.5999999999985, "Region": "Asia", "Age": "Poblacion 0-14"}, {"Poblacion": 10668.699999999999, "Region": "Asia", "Age": "Poblacion 15-64"}, {"Poblacion": 1013.0000000000001, "Region": "Asia", "Age": "Poblacion 65+"}, {"Poblacion": 3780.200000000001, "Region": "Europa", "Age": "Poblacion 0-14"}, {"Poblacion": 13830.599999999999, "Region": "Europa", "Age": "Poblacion 15-64"}, {"Poblacion": 2890.500000000002, "Region": "Europa", "Age": "Poblacion 65+"}, {"Poblacion": 5375.500000000002, "Region": "Las Americas", "Age": "Poblacion 0-14"}, {"Poblacion": 10901.799999999996, "Region": "Las Americas", "Age": "Poblacion 15-64"}, {"Poblacion": 1223.1, "Region": "Las Americas", "Age": "Poblacion 65+"}, {"Poblacion": 1784.8, "Region": "Oceania", "Age": "Poblacion 0-14"}, {"Poblacion": 3133.1000000000004, "Region": "Oceania", "Age": "Poblacion 15-64"}, {"Poblacion": 282.50000000000006, "Region": "Oceania", "Age": "Poblacion 65+"}, {"Poblacion": 1754.7000000000003, "Region": "Oriente Medio", "Age": "Poblacion 0-14"}, {"Poblacion": 3251.1000000000004, "Region": "Oriente Medio", "Age": "Poblacion 15-64"}, {"Poblacion": 194.20000000000005, "Region": "Oriente Medio", "Age": "Poblacion 65+"}, {"Poblacion": 11136.2, "Region": "africa", "Age": "Poblacion 0-14"}, {"Poblacion": 14452.699999999992, "Region": "africa", "Age": "Poblacion 15-64"}, {"Poblacion": 911.7000000000003, "Region": "africa", "Age": "Poblacion 65+"}]}};
var opt = {};
var type = "vega-lite";
var id = "59b79cf0-4fcf-4c24-9a7b-0f3250137f98";

var output_area = this;

require(["nbextensions/jupyter-vega/index"], function(vega) {
  var target = document.createElement("div");
  target.id = id;
  target.className = "vega-embed";

  var style = document.createElement("style");
  style.textContent = [
    ".vega-embed .error p {",
    "  color: firebrick;",
    "  font-size: 14px;",
    "}",
  ].join("\\n");

  // element is a jQuery wrapped DOM element inside the output area
  // see http://ipython.readthedocs.io/en/stable/api/generated/\
  // IPython.display.html#IPython.display.Javascript.__init__
  element[0].appendChild(target);
  element[0].appendChild(style);

  vega.render("#" + id, spec, type, opt, output_area);
}, function (err) {
  if (err.requireType !== "scripterror") {
    throw(err);
  }
});

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_altair_01-visualizacion-con-altair_24_2.png" src="../../_images/notebooks_altair_01-visualizacion-con-altair_24_2.png" />
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Juan D. Velasquez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>