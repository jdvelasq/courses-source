

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="es" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="es" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Análisis de publicaciones sobre analytics y big data en Scopus &mdash; documentación de --- Cursos --- - </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Modelado de decisiones" href="../decisions/01-modelado-de-decisiones.html" />
    <link rel="prev" title="Técnicas Estadísticas para Exploración de Datos" href="01-tecnicas-estadisticas-para-exploracion-de-datos.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> --- Cursos ---
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Configuración</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup.html">Instalación de Vagrant y Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Cursos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../analitica-de-grandes-datos/index.html">Analítica de grandes datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-financiera/index.html">Analítica Financiera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analitica-predictiva/index.html">Analítica Predictiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ciencia-de-los-datos/index.html">Ciencia de los Datos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../fundamentos-de-analitica/index.html">Fundamentos de Analítica</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../fundamentos-de-analitica/content.html">Sesiones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentos-de-analitica/grades.html">Laboratorios de Programación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamentos-de-analitica/course-info.html">Información del curso</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../productos-de-datos/index.html">Productos de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../redes-neuronales-con-tensorflow/index.html">Redes Neuronales Artificiales</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">--- Cursos ---</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../analitica-predictiva/index.html">Analítica Predictiva</a> &raquo;</li>
        
          <li><a href="../../analitica-predictiva/content.html">Sesiones</a> &raquo;</li>
        
      <li>Análisis de publicaciones sobre analytics y big data en Scopus</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebooks/aexp/02-analisis-exploratorio-de-informacion-bibiografica.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Análisis-de-publicaciones-sobre-analytics-y-big-data-en-Scopus">
<h1>Análisis de publicaciones sobre analytics y big data en Scopus<a class="headerlink" href="#Análisis-de-publicaciones-sobre-analytics-y-big-data-en-Scopus" title="Enlazar permanentemente con este título">¶</a></h1>
<p>En este tutorial se ejemplifica la realización del análisis exploratorio de datos aplicado a las revistas listadas en Scopus que contienen en sus nombres las palabras <em>big data</em>, <em>data science</em>, <em>business intelligence</em> y <em>analitics</em>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Preparacion</span>
<span class="c1">##</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
<div class="section" id="Descripción-de-la-información">
<h2>Descripción de la información<a class="headerlink" href="#Descripción-de-la-información" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El archivo <code class="docutils literal notranslate"><span class="pre">scopus-papers.csv</span></code> contiene la información bibliográfica de los artículos seleccionados. Los nombres de las columnas son autoexplicativos.</p>
</div>
<div class="section" id="Carga-de-la-información">
<h2>Carga de la información<a class="headerlink" href="#Carga-de-la-información" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Lectura de datos</span>
<span class="c1">##</span>
<span class="n">papers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/jdvelasq/playground/master/datasets/scopus-papers.csv&quot;</span><span class="p">,</span>
    <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>  <span class="c1"># separador de campos</span>
    <span class="n">thousands</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># separador de miles para números</span>
    <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span>  <span class="c1"># separador de los decimales para números</span>
    <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin-1&quot;</span><span class="p">,</span>
<span class="p">)</span>  <span class="c1"># idioma</span>
<span class="n">papers</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1902 entries, 0 to 1901
Data columns (total 23 columns):
 #   Column                     Non-Null Count  Dtype
---  ------                     --------------  -----
 0   ï»¿Authors                 1902 non-null   object
 1   Author(s) ID               1902 non-null   object
 2   Title                      1902 non-null   object
 3   Year                       1902 non-null   int64
 4   Source title               1902 non-null   object
 5   Volume                     1860 non-null   float64
 6   Issue                      1456 non-null   object
 7   Art. No.                   531 non-null    object
 8   Page start                 1411 non-null   object
 9   Page end                   1411 non-null   object
 10  Page count                 2 non-null      float64
 11  Cited by                   1257 non-null   float64
 12  DOI                        1825 non-null   object
 13  Link                       1902 non-null   object
 14  Affiliations               1889 non-null   object
 15  Authors with affiliations  1899 non-null   object
 16  Author Keywords            1793 non-null   object
 17  Index Keywords             828 non-null    object
 18  Document Type              1902 non-null   object
 19  Publication Stage          1902 non-null   object
 20  Access Type                938 non-null    object
 21  Source                     1902 non-null   object
 22  EID                        1902 non-null   object
dtypes: float64(3), int64(1), object(19)
memory usage: 341.9+ KB
</pre></div></div>
</div>
</div>
<div class="section" id="Nombres-de-las-revistas">
<h2>Nombres de las revistas<a class="headerlink" href="#Nombres-de-las-revistas" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">papers</span><span class="p">[</span><span class="s2">&quot;Source title&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
123                           Applied Marketing Analytics
74                                               Big Data
57                                      Big Data Research
744                                              Big data
111                                  Data Science Journal
82                           Data Science and Engineering
0                                        EPJ Data Science
1901    Easy Care in Wool; Woolmark Business Intellige...
88      Environment and Planning B: Urban Analytics an...
65            International Journal of Business Analytics
417     International Journal of Business Intelligence...
147     International Journal of Business Intelligence...
17                                    Journal of Big Data
61                        Journal of Management Analytics
70                         Journal of Marketing Analytics
1900    World Wool Supply to 2005; Woolmark Business I...
Name: Source title, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Cantidad de revistas</span>
<span class="c1">##</span>
<span class="n">papers</span><span class="p">[</span><span class="s2">&quot;Source title&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
16
</pre></div></div>
</div>
</div>
<div class="section" id="Cantidad-de-citas-por-año-por-revista">
<h2>Cantidad de citas por año por revista<a class="headerlink" href="#Cantidad-de-citas-por-año-por-revista" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">papers</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Source title&quot;</span><span class="p">])</span>
    <span class="o">.</span><span class="n">sum</span><span class="p">()[[</span><span class="s2">&quot;Cited by&quot;</span><span class="p">]]</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;Cited by&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Cited by</th>
    </tr>
    <tr>
      <th>Source title</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Journal of Big Data</th>
      <td>2312.0</td>
    </tr>
    <tr>
      <th>EPJ Data Science</th>
      <td>1902.0</td>
    </tr>
    <tr>
      <th>Data Science Journal</th>
      <td>1468.0</td>
    </tr>
    <tr>
      <th>International Journal of Business Intelligence and Data Mining</th>
      <td>1420.0</td>
    </tr>
    <tr>
      <th>Big Data</th>
      <td>1164.0</td>
    </tr>
    <tr>
      <th>Big Data Research</th>
      <td>926.0</td>
    </tr>
    <tr>
      <th>Journal of Management Analytics</th>
      <td>440.0</td>
    </tr>
    <tr>
      <th>Environment and Planning B: Urban Analytics and City Science</th>
      <td>370.0</td>
    </tr>
    <tr>
      <th>Journal of Marketing Analytics</th>
      <td>253.0</td>
    </tr>
    <tr>
      <th>Data Science and Engineering</th>
      <td>222.0</td>
    </tr>
    <tr>
      <th>International Journal of Business Analytics</th>
      <td>131.0</td>
    </tr>
    <tr>
      <th>Applied Marketing Analytics</th>
      <td>2.0</td>
    </tr>
    <tr>
      <th>International Journal of Business Intelligence Research</th>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Big data</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Easy Care in Wool; Woolmark Business Intelligence July 1999</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>World Wool Supply to 2005; Woolmark Business Intelligence July1999</th>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Gráfico por defecto usando Matplotlib</span>
<span class="c1">##</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f858bf2b668&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_12_1.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_12_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Personalización</span>
<span class="c1">#</span>
<span class="kn">import</span> <span class="nn">textwrap</span>

<span class="n">TEXTLEN</span> <span class="o">=</span> <span class="mi">40</span>

<span class="k">def</span> <span class="nf">bar</span><span class="p">(</span>
    <span class="n">height</span><span class="p">,</span>
    <span class="n">darkness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Greys&quot;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">zorder</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">darkness</span> <span class="o">=</span> <span class="n">height</span> <span class="k">if</span> <span class="n">darkness</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">darkness</span>

    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">cmap</span><span class="p">(</span><span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.90</span> <span class="o">*</span> <span class="p">(</span><span class="n">d</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">darkness</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">darkness</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">darkness</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">darkness</span>
    <span class="p">]</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)),</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">edgecolor</span><span class="o">=</span><span class="n">edgecolor</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="n">linewidth</span><span class="p">,</span>
        <span class="n">zorder</span><span class="o">=</span><span class="n">zorder</span><span class="p">,</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">ylabel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>

    <span class="n">xticklabels</span> <span class="o">=</span> <span class="n">height</span><span class="o">.</span><span class="n">index</span>
    <span class="k">if</span> <span class="n">xticklabels</span><span class="o">.</span><span class="n">dtype</span> <span class="o">!=</span> <span class="s2">&quot;int64&quot;</span><span class="p">:</span>
        <span class="n">xticklabels</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">textwrap</span><span class="o">.</span><span class="n">shorten</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">TEXTLEN</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">xticklabels</span>
        <span class="p">]</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">height</span><span class="p">)))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">xticklabels</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>

<span class="n">bar</span><span class="p">(</span><span class="n">height</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cited by&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_13_0.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_13_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Gráfico usando Altair</span>
<span class="c1">##</span>
<span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Source title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;Source title:N&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">EncodingSortField</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s2">&quot;Cited by:Q&quot;</span><span class="p">)),</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Cited by:Q&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Cited by:Q&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div id="altair-viz-21e70e13e5f54821b86ed090d8a77993"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-21e70e13e5f54821b86ed090d8a77993") {
      outputDiv = document.getElementById("altair-viz-21e70e13e5f54821b86ed090d8a77993");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-9d86798443f709c0e8311b054289d3da"}, "mark": "bar", "encoding": {"color": {"type": "quantitative", "field": "Cited by"}, "x": {"type": "quantitative", "field": "Cited by"}, "y": {"type": "nominal", "field": "Source title", "sort": {"field": "Cited by:Q"}}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-9d86798443f709c0e8311b054289d3da": [{"Cited by": 2312.0, "Source title": "Journal of Big Data"}, {"Cited by": 1902.0, "Source title": "EPJ Data Science"}, {"Cited by": 1468.0, "Source title": "Data Science Journal"}, {"Cited by": 1420.0, "Source title": "International Journal of Business Intelligence and Data Mining"}, {"Cited by": 1164.0, "Source title": "Big Data"}, {"Cited by": 926.0, "Source title": "Big Data Research"}, {"Cited by": 440.0, "Source title": "Journal of Management Analytics"}, {"Cited by": 370.0, "Source title": "Environment and Planning B: Urban Analytics and City Science"}, {"Cited by": 253.0, "Source title": "Journal of Marketing Analytics"}, {"Cited by": 222.0, "Source title": "Data Science and Engineering"}, {"Cited by": 131.0, "Source title": "International Journal of Business Analytics"}, {"Cited by": 2.0, "Source title": "Applied Marketing Analytics"}, {"Cited by": 1.0, "Source title": "International Journal of Business Intelligence Research"}, {"Cited by": 0.0, "Source title": "Big data"}, {"Cited by": 0.0, "Source title": "Easy Care in Wool; Woolmark Business Intelligence July 1999"}, {"Cited by": 0.0, "Source title": "World Wool Supply to 2005; Woolmark Business Intelligence July1999"}]}}, {"mode": "vega-lite"});
</script></div>
</div>
</div>
<div class="section" id="Total-de-citas-por-año">
<h2>Total de citas por año<a class="headerlink" href="#Total-de-citas-por-año" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">##</span>
<span class="c1">## Suma de citas agregada por título y año</span>
<span class="c1">##</span>
<span class="n">papers</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Source title&quot;</span><span class="p">,</span> <span class="s2">&quot;Year&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[[</span><span class="s2">&quot;Cited by&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Cited by</th>
    </tr>
    <tr>
      <th>Source title</th>
      <th>Year</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">Applied Marketing Analytics</th>
      <th>2018</th>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">Big Data</th>
      <th>2013</th>
      <td>543.0</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>170.0</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>203.0</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">Journal of Marketing Analytics</th>
      <th>2016</th>
      <td>12.0</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>5.0</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>7.0</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>World Wool Supply to 2005; Woolmark Business Intelligence July1999</th>
      <th>1999</th>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>89 rows × 1 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Los ejes para la gráfica deben ser campos</span>
<span class="c1"># en el DataFrame</span>
<span class="c1">#</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">papers</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;Source title&quot;</span><span class="p">,</span> <span class="s2">&quot;Year&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[[</span><span class="s2">&quot;Source title&quot;</span><span class="p">,</span> <span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;Cited by&quot;</span><span class="p">]]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Source title</th>
      <th>Year</th>
      <th>Cited by</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Applied Marketing Analytics</td>
      <td>2018</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Applied Marketing Analytics</td>
      <td>2019</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Big Data</td>
      <td>2013</td>
      <td>543.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Big Data</td>
      <td>2014</td>
      <td>170.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Big Data</td>
      <td>2015</td>
      <td>203.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>84</th>
      <td>Journal of Marketing Analytics</td>
      <td>2016</td>
      <td>12.0</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Journal of Marketing Analytics</td>
      <td>2017</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>86</th>
      <td>Journal of Marketing Analytics</td>
      <td>2018</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>87</th>
      <td>Journal of Marketing Analytics</td>
      <td>2019</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>World Wool Supply to 2005; Woolmark Business I...</td>
      <td>1999</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>89 rows × 3 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Gráfica usando seaborn</span>
<span class="c1">#</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">sns</span><span class="o">.</span><span class="n">relplot</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;Year&#39;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;Source title&#39;</span><span class="p">,</span>
    <span class="n">size</span> <span class="o">=</span> <span class="s1">&#39;Cited by&#39;</span><span class="p">,</span>
    <span class="n">sizes</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
    <span class="n">palette</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/usr/local/lib/python3.6/dist-packages/seaborn/axisgrid.py:856: UserWarning: Tight layout not applied. The left and right margins cannot be made large enough to accommodate all axes decorations.
  self.fig.tight_layout()
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_18_1.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_18_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Usando Altair</span>
<span class="c1">#</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span>
        <span class="s2">&quot;Year:Q&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">2019</span><span class="p">)),</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">labelAngle</span><span class="o">=</span><span class="mi">270</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;Source title:N&quot;</span><span class="p">),</span>
    <span class="n">size</span><span class="o">=</span><span class="s2">&quot;Cited by&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Cited by&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div id="altair-viz-fad2dfdfb4f442b08506239c9663b9f9"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-fad2dfdfb4f442b08506239c9663b9f9") {
      outputDiv = document.getElementById("altair-viz-fad2dfdfb4f442b08506239c9663b9f9");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-4e4a552f569cdb78ee5b33cb7ce87dd7"}, "mark": "circle", "encoding": {"color": {"type": "quantitative", "field": "Cited by"}, "size": {"type": "quantitative", "field": "Cited by"}, "x": {"type": "quantitative", "axis": {"labelAngle": 270}, "field": "Year", "scale": {"domain": [2002, 2019]}}, "y": {"type": "nominal", "field": "Source title"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-4e4a552f569cdb78ee5b33cb7ce87dd7": [{"Source title": "Applied Marketing Analytics", "Year": 2018, "Cited by": 2.0}, {"Source title": "Applied Marketing Analytics", "Year": 2019, "Cited by": 0.0}, {"Source title": "Big Data", "Year": 2013, "Cited by": 543.0}, {"Source title": "Big Data", "Year": 2014, "Cited by": 170.0}, {"Source title": "Big Data", "Year": 2015, "Cited by": 203.0}, {"Source title": "Big Data", "Year": 2016, "Cited by": 109.0}, {"Source title": "Big Data", "Year": 2017, "Cited by": 129.0}, {"Source title": "Big Data", "Year": 2018, "Cited by": 10.0}, {"Source title": "Big Data", "Year": 2019, "Cited by": 0.0}, {"Source title": "Big Data Research", "Year": 2014, "Cited by": 79.0}, {"Source title": "Big Data Research", "Year": 2015, "Cited by": 499.0}, {"Source title": "Big Data Research", "Year": 2016, "Cited by": 173.0}, {"Source title": "Big Data Research", "Year": 2017, "Cited by": 120.0}, {"Source title": "Big Data Research", "Year": 2018, "Cited by": 55.0}, {"Source title": "Big Data Research", "Year": 2019, "Cited by": 0.0}, {"Source title": "Big data", "Year": 2017, "Cited by": 0.0}, {"Source title": "Data Science Journal", "Year": 2003, "Cited by": 50.0}, {"Source title": "Data Science Journal", "Year": 2006, "Cited by": 144.0}, {"Source title": "Data Science Journal", "Year": 2007, "Cited by": 307.0}, {"Source title": "Data Science Journal", "Year": 2008, "Cited by": 81.0}, {"Source title": "Data Science Journal", "Year": 2009, "Cited by": 233.0}, {"Source title": "Data Science Journal", "Year": 2010, "Cited by": 44.0}, {"Source title": "Data Science Journal", "Year": 2011, "Cited by": 38.0}, {"Source title": "Data Science Journal", "Year": 2012, "Cited by": 31.0}, {"Source title": "Data Science Journal", "Year": 2013, "Cited by": 327.0}, {"Source title": "Data Science Journal", "Year": 2014, "Cited by": 70.0}, {"Source title": "Data Science Journal", "Year": 2015, "Cited by": 20.0}, {"Source title": "Data Science Journal", "Year": 2016, "Cited by": 46.0}, {"Source title": "Data Science Journal", "Year": 2017, "Cited by": 66.0}, {"Source title": "Data Science Journal", "Year": 2018, "Cited by": 11.0}, {"Source title": "Data Science Journal", "Year": 2019, "Cited by": 0.0}, {"Source title": "Data Science and Engineering", "Year": 2016, "Cited by": 129.0}, {"Source title": "Data Science and Engineering", "Year": 2017, "Cited by": 70.0}, {"Source title": "Data Science and Engineering", "Year": 2018, "Cited by": 23.0}, {"Source title": "Data Science and Engineering", "Year": 2019, "Cited by": 0.0}, {"Source title": "EPJ Data Science", "Year": 2012, "Cited by": 514.0}, {"Source title": "EPJ Data Science", "Year": 2013, "Cited by": 166.0}, {"Source title": "EPJ Data Science", "Year": 2014, "Cited by": 391.0}, {"Source title": "EPJ Data Science", "Year": 2015, "Cited by": 247.0}, {"Source title": "EPJ Data Science", "Year": 2016, "Cited by": 363.0}, {"Source title": "EPJ Data Science", "Year": 2017, "Cited by": 162.0}, {"Source title": "EPJ Data Science", "Year": 2018, "Cited by": 59.0}, {"Source title": "EPJ Data Science", "Year": 2019, "Cited by": 0.0}, {"Source title": "Easy Care in Wool; Woolmark Business Intelligence July 1999", "Year": 1999, "Cited by": 0.0}, {"Source title": "Environment and Planning B: Urban Analytics and City Science", "Year": 2017, "Cited by": 210.0}, {"Source title": "Environment and Planning B: Urban Analytics and City Science", "Year": 2018, "Cited by": 122.0}, {"Source title": "Environment and Planning B: Urban Analytics and City Science", "Year": 2019, "Cited by": 38.0}, {"Source title": "International Journal of Business Analytics", "Year": 2014, "Cited by": 40.0}, {"Source title": "International Journal of Business Analytics", "Year": 2015, "Cited by": 26.0}, {"Source title": "International Journal of Business Analytics", "Year": 2016, "Cited by": 49.0}, {"Source title": "International Journal of Business Analytics", "Year": 2017, "Cited by": 7.0}, {"Source title": "International Journal of Business Analytics", "Year": 2018, "Cited by": 8.0}, {"Source title": "International Journal of Business Analytics", "Year": 2019, "Cited by": 1.0}, {"Source title": "International Journal of Business Intelligence Research", "Year": 2018, "Cited by": 1.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2005, "Cited by": 213.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2006, "Cited by": 140.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2007, "Cited by": 225.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2008, "Cited by": 151.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2009, "Cited by": 95.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2010, "Cited by": 197.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2011, "Cited by": 56.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2012, "Cited by": 40.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2013, "Cited by": 57.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2014, "Cited by": 91.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2015, "Cited by": 99.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2016, "Cited by": 41.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2017, "Cited by": 7.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2018, "Cited by": 8.0}, {"Source title": "International Journal of Business Intelligence and Data Mining", "Year": 2019, "Cited by": 0.0}, {"Source title": "Journal of Big Data", "Year": 2014, "Cited by": 147.0}, {"Source title": "Journal of Big Data", "Year": 2015, "Cited by": 1395.0}, {"Source title": "Journal of Big Data", "Year": 2016, "Cited by": 465.0}, {"Source title": "Journal of Big Data", "Year": 2017, "Cited by": 220.0}, {"Source title": "Journal of Big Data", "Year": 2018, "Cited by": 83.0}, {"Source title": "Journal of Big Data", "Year": 2019, "Cited by": 2.0}, {"Source title": "Journal of Management Analytics", "Year": 2014, "Cited by": 114.0}, {"Source title": "Journal of Management Analytics", "Year": 2015, "Cited by": 172.0}, {"Source title": "Journal of Management Analytics", "Year": 2016, "Cited by": 78.0}, {"Source title": "Journal of Management Analytics", "Year": 2017, "Cited by": 57.0}, {"Source title": "Journal of Management Analytics", "Year": 2018, "Cited by": 19.0}, {"Source title": "Journal of Management Analytics", "Year": 2019, "Cited by": 0.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2013, "Cited by": 131.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2014, "Cited by": 71.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2015, "Cited by": 27.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2016, "Cited by": 12.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2017, "Cited by": 5.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2018, "Cited by": 7.0}, {"Source title": "Journal of Marketing Analytics", "Year": 2019, "Cited by": 0.0}, {"Source title": "World Wool Supply to 2005; Woolmark Business Intelligence July1999", "Year": 1999, "Cited by": 0.0}]}}, {"mode": "vega-lite"});
</script></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># Personalizacion</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">bubble</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span>
    <span class="n">darkness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Greys&quot;</span><span class="p">,</span>
    <span class="n">grid_lw</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="n">grid_c</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
    <span class="n">grid_ls</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">size_max</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">size_min</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">darkness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">darkness</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">darkness</span> <span class="o">=</span> <span class="n">darkness</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

    <span class="n">color_max</span> <span class="o">=</span> <span class="n">darkness</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">color_min</span> <span class="o">=</span> <span class="n">darkness</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()):</span>

        <span class="n">sizes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="mi">150</span> <span class="o">+</span> <span class="mi">1000</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">size_min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">size_max</span> <span class="o">-</span> <span class="n">size_min</span><span class="p">)</span> <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="p">:]</span>
        <span class="p">]</span>

        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">cmap</span><span class="p">(</span><span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">color_min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">color_max</span> <span class="o">-</span> <span class="n">color_min</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">darkness</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="p">:]</span>
        <span class="p">]</span>

        <span class="c1">#  return range(len(x.columns)), [idx] * len(x.columns)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
            <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">))),</span>
            <span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span>
            <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span>
            <span class="n">s</span><span class="o">=</span><span class="n">sizes</span><span class="p">,</span>
            <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">c</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span>
            <span class="n">edgecolors</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
            <span class="n">zorder</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
            <span class="c1">#  **kwargs,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span>
            <span class="n">idx</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">grid_lw</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">grid_c</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">grid_ls</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span>
            <span class="n">idx</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">grid_lw</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">grid_c</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">grid_ls</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">mean_color</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">color_min</span> <span class="o">+</span> <span class="n">color_max</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx_col</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">idx_row</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>

            <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">darkness</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">mean_color</span><span class="p">:</span>
                    <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;k&quot;</span>

                <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
                    <span class="n">idx_col</span><span class="p">,</span>
                    <span class="n">idx_row</span><span class="p">,</span>
                    <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="s2">&quot;int64&quot;</span>
                    <span class="k">else</span> <span class="s2">&quot;</span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">col</span><span class="p">][</span><span class="n">row</span><span class="p">]),</span>
                    <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">zorder</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="n">text_color</span><span class="p">,</span>
                <span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">)))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">tick_top</span><span class="p">()</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">]:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">M</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;Cited by&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s2">&quot;Source title&quot;</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">M</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Source title</th>
      <th>Applied Marketing Analytics</th>
      <th>Big Data</th>
      <th>Big Data Research</th>
      <th>Big data</th>
      <th>Data Science Journal</th>
      <th>Data Science and Engineering</th>
      <th>EPJ Data Science</th>
      <th>Easy Care in Wool; Woolmark Business Intelligence July 1999</th>
      <th>Environment and Planning B: Urban Analytics and City Science</th>
      <th>International Journal of Business Analytics</th>
      <th>International Journal of Business Intelligence Research</th>
      <th>International Journal of Business Intelligence and Data Mining</th>
      <th>Journal of Big Data</th>
      <th>Journal of Management Analytics</th>
      <th>Journal of Marketing Analytics</th>
      <th>World Wool Supply to 2005; Woolmark Business Intelligence July1999</th>
    </tr>
    <tr>
      <th>Year</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1999</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2003</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2005</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>213</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2006</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>144</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>140</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2007</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>307</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>225</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2008</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>81</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>151</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2009</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>233</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>95</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>197</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2011</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>38</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>56</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2012</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31</td>
      <td>0</td>
      <td>514</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2013</th>
      <td>0</td>
      <td>543</td>
      <td>0</td>
      <td>0</td>
      <td>327</td>
      <td>0</td>
      <td>166</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>57</td>
      <td>0</td>
      <td>0</td>
      <td>131</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>0</td>
      <td>170</td>
      <td>79</td>
      <td>0</td>
      <td>70</td>
      <td>0</td>
      <td>391</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>0</td>
      <td>91</td>
      <td>147</td>
      <td>114</td>
      <td>71</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>0</td>
      <td>203</td>
      <td>499</td>
      <td>0</td>
      <td>20</td>
      <td>0</td>
      <td>247</td>
      <td>0</td>
      <td>0</td>
      <td>26</td>
      <td>0</td>
      <td>99</td>
      <td>1395</td>
      <td>172</td>
      <td>27</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>0</td>
      <td>109</td>
      <td>173</td>
      <td>0</td>
      <td>46</td>
      <td>129</td>
      <td>363</td>
      <td>0</td>
      <td>0</td>
      <td>49</td>
      <td>0</td>
      <td>41</td>
      <td>465</td>
      <td>78</td>
      <td>12</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>0</td>
      <td>129</td>
      <td>120</td>
      <td>0</td>
      <td>66</td>
      <td>70</td>
      <td>162</td>
      <td>0</td>
      <td>210</td>
      <td>7</td>
      <td>0</td>
      <td>7</td>
      <td>220</td>
      <td>57</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>2</td>
      <td>10</td>
      <td>55</td>
      <td>0</td>
      <td>11</td>
      <td>23</td>
      <td>59</td>
      <td>0</td>
      <td>122</td>
      <td>8</td>
      <td>1</td>
      <td>8</td>
      <td>83</td>
      <td>19</td>
      <td>7</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>38</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bubble</span><span class="p">(</span>
    <span class="n">M</span><span class="o">.</span><span class="n">transpose</span><span class="p">(),</span>
    <span class="n">darkness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Oranges&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_22_0.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_22_0.png" />
</div>
</div>
</div>
<div class="section" id="Palabras-claves-más-frecuentes">
<h2>Palabras claves más frecuentes<a class="headerlink" href="#Palabras-claves-más-frecuentes" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 1.-- Elimina los registros con valor NaN</span>
<span class="c1">#      words es un objeto pandas.Series</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">papers</span><span class="p">[</span><span class="s2">&quot;Author Keywords&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="nb">type</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
pandas.core.series.Series
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">words</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    Geo-location data; Human mobility; Resilience;...
1    Language analysis; LIWC; Moral foundations the...
2    Gravity model; Media ecosystem; News spreading...
3    Centrality measures; Community Structure; Infl...
4    Cholesterol; Diabetes; Digital purchase record...
Name: Author Keywords, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 2.-- Parte las cadenas por el &#39;;&#39;</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="n">w</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">))</span>
<span class="n">words</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    [Geo-location data,  Human mobility,  Resilien...
1    [Language analysis,  LIWC,  Moral foundations ...
2    [Gravity model,  Media ecosystem,  News spread...
3    [Centrality measures,  Community Structure,  I...
4    [Cholesterol,  Diabetes,  Digital purchase rec...
Name: Author Keywords, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 3.-- Elimina los espacios en blanco al principio y</span>
<span class="c1">#      final de cada palabra clave y convierte la</span>
<span class="c1">#      cadena en minúsculas</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">w</span><span class="p">])</span>
<span class="n">words</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    [geo-location data, human mobility, resilience...
1    [language analysis, liwc, moral foundations th...
2    [gravity model, media ecosystem, news spreadin...
3    [centrality measures, community structure, inf...
4    [cholesterol, diabetes, digital purchase recor...
Name: Author Keywords, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 3.-- Genera un registro por cada palabra clave</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span>
<span class="n">words</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    geo-location data
0       human mobility
0           resilience
0         social media
1    language analysis
Name: Author Keywords, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 4.-- Cuenta las palabras clave.</span>
<span class="c1">#      Este es a pandas.Series con las palabras clave</span>
<span class="c1">#      como indices</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">words</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
big data                                               167
data mining                                            134
machine learning                                        57
clustering                                              41
big data analytics                                      37
                                                      ...
hybrid wavelet kernel                                    1
bare ownership price                                     1
land use mix                                             1
local linear radial basis functional neural network      1
ecocommunity                                             1
Name: Author Keywords, Length: 6368, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 5.-- Top palabras más usadas</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">words</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
big data                 167
data mining              134
machine learning          57
clustering                41
big data analytics        37
classification            33
business intelligence     31
metadata                  30
social media              29
mapreduce                 26
Name: Author Keywords, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 6.-- Para usar Altair es necesario convertir</span>
<span class="c1">#      el objeto pandas.Series en un pandas.DataFrame</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">words</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Author Keywords</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>big data</th>
      <td>167</td>
    </tr>
    <tr>
      <th>data mining</th>
      <td>134</td>
    </tr>
    <tr>
      <th>machine learning</th>
      <td>57</td>
    </tr>
    <tr>
      <th>clustering</th>
      <td>41</td>
    </tr>
    <tr>
      <th>big data analytics</th>
      <td>37</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>university proximity</th>
      <td>1</td>
    </tr>
    <tr>
      <th>hbase</th>
      <td>1</td>
    </tr>
    <tr>
      <th>document store</th>
      <td>1</td>
    </tr>
    <tr>
      <th>social capital</th>
      <td>1</td>
    </tr>
    <tr>
      <th>privacy-preserving association rule mining</th>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>6368 rows × 1 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 7.-- Se transforma el indice en una columna</span>
<span class="c1">#      del dataframe</span>
<span class="c1">#</span>
<span class="n">words</span> <span class="o">=</span> <span class="n">words</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">words</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>Author Keywords</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>big data</td>
      <td>167</td>
    </tr>
    <tr>
      <th>1</th>
      <td>data mining</td>
      <td>134</td>
    </tr>
    <tr>
      <th>2</th>
      <td>machine learning</td>
      <td>57</td>
    </tr>
    <tr>
      <th>3</th>
      <td>clustering</td>
      <td>41</td>
    </tr>
    <tr>
      <th>4</th>
      <td>big data analytics</td>
      <td>37</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6363</th>
      <td>university proximity</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6364</th>
      <td>hbase</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6365</th>
      <td>document store</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6366</th>
      <td>social capital</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6367</th>
      <td>privacy-preserving association rule mining</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>6368 rows × 2 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">])</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Author Keywords:Q&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;index:N&quot;</span><span class="p">,</span>
            <span class="n">sort</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">EncodingSortField</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s2">&quot;index:Q&quot;</span><span class="p">)),</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Author Keywords:Q&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div id="altair-viz-74b40da7c1cd4bd0ba99d90e924d5e02"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-74b40da7c1cd4bd0ba99d90e924d5e02") {
      outputDiv = document.getElementById("altair-viz-74b40da7c1cd4bd0ba99d90e924d5e02");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-2bd31515de1b4b4424b7eb6979cf17df"}, "mark": "bar", "encoding": {"color": {"type": "quantitative", "field": "Author Keywords"}, "x": {"type": "quantitative", "field": "Author Keywords"}, "y": {"type": "nominal", "field": "index", "sort": {"field": "index:Q"}}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-2bd31515de1b4b4424b7eb6979cf17df": [{"index": "big data", "Author Keywords": 167}, {"index": "data mining", "Author Keywords": 134}, {"index": "machine learning", "Author Keywords": 57}, {"index": "clustering", "Author Keywords": 41}, {"index": "big data analytics", "Author Keywords": 37}, {"index": "classification", "Author Keywords": 33}, {"index": "business intelligence", "Author Keywords": 31}, {"index": "metadata", "Author Keywords": 30}, {"index": "social media", "Author Keywords": 29}, {"index": "mapreduce", "Author Keywords": 26}, {"index": "hadoop", "Author Keywords": 25}, {"index": "data sharing", "Author Keywords": 22}, {"index": "database", "Author Keywords": 22}, {"index": "data management", "Author Keywords": 22}, {"index": "social networks", "Author Keywords": 21}, {"index": "ontology", "Author Keywords": 19}, {"index": "interoperability", "Author Keywords": 19}, {"index": "analytics", "Author Keywords": 18}, {"index": "cloud computing", "Author Keywords": 18}, {"index": "time series", "Author Keywords": 18}]}}, {"mode": "vega-lite"});
</script></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 8.-- Wordcloud</span>
<span class="c1">#</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">ImageColorGenerator</span><span class="p">,</span> <span class="n">WordCloud</span>

<span class="n">words_dic</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">value</span>   <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">],</span> <span class="n">words</span><span class="p">[</span><span class="s1">&#39;Author Keywords&#39;</span><span class="p">])}</span>

<span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span>
    <span class="n">max_font_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_words</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">words_dic</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_34_0.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_34_0.png" />
</div>
</div>
</div>
<div class="section" id="Contribuciones-por-país-de-origen">
<h2>Contribuciones por país de origen<a class="headerlink" href="#Contribuciones-por-país-de-origen" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Uno de los gráficos comúnmente usados en los mapeos sistemáticos de literatura es la cantidad de artículos por país de origen. Este gráfico da una idea de en que lugares se está concentrando la investigación sobre el tópico abordado. A continuación se describe el código para este gráfico.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 1.-- Borra NA</span>
<span class="c1">#</span>
<span class="n">affiliations</span> <span class="o">=</span> <span class="n">papers</span><span class="p">[</span><span class="s2">&quot;Affiliations&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 2.-- Obtiene la afiliación por autor</span>
<span class="c1">#</span>
<span class="n">affiliations</span> <span class="o">=</span> <span class="n">affiliations</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="n">w</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">))</span>
<span class="n">affiliations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0       [Department of Civil, Environmental, and Const...
1       [Empirical Studies of Conflict Project, Woodro...
2       [L3S Research Center, Leibniz-University, Hann...
3       [LRIT URAC No 29, Faculty of Science, Rabat IT...
4       [Nokia Bell Labs, Cambridge, United Kingdom,  ...
                              ...
1895    [Institute of Geodesy and Cartography, ul. Jas...
1896    [Dept of Geography and Human Environment, Envi...
1897    [ESPACE, UMR 6012, CNRS, 74, rue Louis Pasteur...
1898    [Centre for Geo-Information, Wageningen UR, PO...
1899    [Institute for Geoinformatics, University of M...
Name: Affiliations, Length: 1889, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 3.-- Ejemplo de una afiliacion</span>
<span class="c1">#</span>
<span class="n">affiliations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Department of Civil, Environmental, and Construction Engineering, University of Central Florida, Orlando, United States&#39;,
 &#39; Media Laboratory, Massachusetts Institute of Technology, Cambridge, United States&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 4.-- Extrae el nombre del país (ultima posición)</span>
<span class="c1">#</span>
<span class="n">affiliations</span> <span class="o">=</span> <span class="n">affiliations</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>   <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">w</span><span class="p">])</span>
<span class="n">affiliations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0                          [United States, United States]
1       [United States, Qatar, United States, United S...
2                          [Germany, Chile, Chile, Italy]
3                               [Morocco, France, France]
4       [United Kingdom, Italy, United Kingdom, United...
                              ...
1895                                             [Poland]
1896                                             [Israel]
1897                                             [France]
1898                             [Netherlands, Australia]
1899                                   [Germany, Germany]
Name: Affiliations, Length: 1889, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 5.-- Expande la columna</span>
<span class="c1">#</span>
<span class="n">affiliations</span> <span class="o">=</span> <span class="n">affiliations</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span>
<span class="n">affiliations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0       United States
0       United States
1       United States
1               Qatar
1       United States
            ...
1897           France
1898      Netherlands
1898        Australia
1899          Germany
1899          Germany
Name: Affiliations, Length: 3963, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 6.-- Cuenta las ocurrencias de cada país</span>
<span class="c1">#</span>
<span class="n">affiliations</span> <span class="o">=</span> <span class="n">affiliations</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">affiliations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
United States       1089
China                457
India                295
United Kingdom       250
Japan                239
                    ...
RTL â RTL            1
Think3 Inc.            1
Kenya                  1
French Polynesia       1
Namibia                1
Name: Affiliations, Length: 101, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#</span>
<span class="c1"># 7.-- Worldmap</span>
<span class="c1">#</span>
<span class="o">!</span>curl -0 https://raw.githubusercontent.com/jdvelasq/playground/master/datasets/worldmap.data &gt; worldmap.data
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  361k  100  361k    0     0   465k      0 --:--:-- --:--:-- --:--:--  465k
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">matplotlib</span>

<span class="k">def</span> <span class="nf">worldmap</span><span class="p">(</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Pastel2&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>

    <span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>

    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mf">0.1</span> <span class="o">+</span> <span class="mf">0.9</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()))</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;worldmap.data&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">countries</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="n">countries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">countries</span><span class="p">[</span><span class="n">country</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;-k&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">country</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">():</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">cmap</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">color</span><span class="p">[</span><span class="n">country</span><span class="p">]))</span>
    <span class="c1">#</span>
    <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
    <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
    <span class="n">xleft</span> <span class="o">=</span> <span class="n">xmax</span> <span class="o">-</span> <span class="mf">0.02</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span>
    <span class="n">xright</span> <span class="o">=</span> <span class="n">xmax</span>
    <span class="n">xbar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">xleft</span><span class="p">,</span> <span class="n">xright</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">ybar</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">+</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">xv</span><span class="p">,</span> <span class="n">yv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">xbar</span><span class="p">,</span> <span class="n">ybar</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">yv</span> <span class="o">/</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">)</span> <span class="o">-</span> <span class="n">ymin</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">xv</span><span class="p">,</span> <span class="n">yv</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
    <span class="c1">#</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymin</span> <span class="o">+</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">),</span> <span class="mi">11</span><span class="p">)</span>
    <span class="n">value</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
            <span class="n">xright</span> <span class="o">+</span> <span class="mf">0.4</span> <span class="o">*</span> <span class="p">(</span><span class="n">xright</span> <span class="o">-</span> <span class="n">xleft</span><span class="p">),</span>
            <span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span>
            <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
            <span class="n">va</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="p">[</span><span class="n">xleft</span> <span class="o">-</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="p">(</span><span class="n">xright</span> <span class="o">-</span> <span class="n">xleft</span><span class="p">),</span> <span class="n">xleft</span> <span class="o">-</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="p">(</span><span class="n">xright</span> <span class="o">-</span> <span class="n">xleft</span><span class="p">)],</span>
        <span class="p">[</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">],</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
            <span class="p">[</span><span class="n">xleft</span> <span class="o">-</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">xright</span> <span class="o">-</span> <span class="n">xleft</span><span class="p">),</span> <span class="n">xright</span><span class="p">],</span>
            <span class="p">[</span><span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
            <span class="n">linewidth</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">cmap</span><span class="p">((</span><span class="mi">11</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">11</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;on&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;bottom&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;right&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s2">&quot;gray&quot;</span><span class="p">)</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">set_tight_layout</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">worldmap</span><span class="p">(</span><span class="n">affiliations</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_45_0.png" src="../../_images/notebooks_aexp_02-analisis-exploratorio-de-informacion-bibiografica_45_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Juan D. Velasquez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>